jQuery.scrollzer=function(f,c){var d=jQuery(window),b=jQuery(document);d.load(function(){var q,a,A,k,e,x,z=jQuery.extend({activeClassName:"active",suffix:"-link",pad:50,firstHack:!1,lastHack:!1},c),w=[],t=jQuery();for(q in f){A=jQuery("#"+f[q]),k=jQuery("#"+f[q]+z.suffix),A.length<1||k.length<1||(a={},a.link=k,a.object=A,w[f[q]]=a,t=t.add(k))}var y,r=function(){var h;for(q in w){h=w[q],h.start=Math.ceil(h.object.offset().top)-z.pad,h.end=h.start+Math.ceil(h.object.innerHeight())}d.trigger("scroll")};d.resize(function(){window.clearTimeout(y),y=window.setTimeout(r,250)});var p,g=function(){t.removeClass("scrollzer-locked")};d.scroll(function(i){var h=0,j=!1;e=d.scrollTop(),window.clearTimeout(p),p=window.setTimeout(g,250);for(q in w){q!=x&&e>=w[q].start&&e<=w[q].end&&(x=q,j=!0),h++}z.lastHack&&e+d.height()>=b.height()&&(x=q,j=!0),j&&!t.hasClass("scrollzer-locked")&&(t.removeClass(z.activeClassName),w[x].link.addClass(z.activeClassName))}),d.trigger("resize")})};